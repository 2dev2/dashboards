{
  "title": "K8s - CPU and Memory Metrics",
  "description": "Basic resource requests/limits and cpu/memory usage.",
  "tags": ["k8s", "monitoring"],
  "uploadedGrafana": false,
  "variables": {
    "namespace": {
      "allSelected": false,
      "customValue": "",
      "description": "",
      "modificationUUID": "ddd9de20-c88d-4f4e-bda3-3f0f833ac1bf",
      "multiSelect": false,
      "name": "namespace",
      "queryValue": "SELECT DISTINCT(JSONExtractString(labels, 'k8s_namespace_name'))\nFROM signoz_metrics.time_series_v2",
      "selectedValue": "platform",
      "showALLOption": false,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    }
  },
  "layout": [
    {
      "h": 2,
      "i": "9ba18e07-e1fa-4f10-93a6-69440f30cdd9",
      "moved": false,
      "static": false,
      "w": 6,
      "x": 0,
      "y": 0
    },
    {
      "h": 2,
      "i": "92b7aa61-c086-4633-931d-f010104aa067",
      "moved": false,
      "static": false,
      "w": 6,
      "x": 6,
      "y": 0
    },
    {
      "h": 2,
      "i": "e05ae451-c173-44b1-959e-bf8d48e6cc13",
      "moved": false,
      "static": false,
      "w": 6,
      "x": 0,
      "y": 2
    },
    {
      "h": 2,
      "i": "4ac567c1-35fb-44e7-99cf-b558b2026634",
      "moved": false,
      "static": false,
      "w": 6,
      "x": 0,
      "y": 4
    },
    {
      "h": 2,
      "i": "f1734725-3312-44d6-a449-7ed6879d6bac",
      "moved": false,
      "static": false,
      "w": 6,
      "x": 6,
      "y": 4
    },
    {
      "h": 2,
      "i": "8090ee46-4428-4d75-9889-2118ef2029bf",
      "moved": false,
      "static": false,
      "w": 6,
      "x": 6,
      "y": 2
    }
  ],
  "widgets": [
    {
      "description": "",
      "id": "8090ee46-4428-4d75-9889-2118ef2029bf",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "TIME_SERIES",
      "query": {
        "clickHouse": [
          { "disabled": false, "legend": "", "name": "A", "rawQuery": "" }
        ],
        "metricsBuilder": {
          "formulas": [],
          "queryBuilder": [
            {
              "aggregateOperator": 1,
              "disabled": false,
              "groupBy": [],
              "legend": "{{k8s_container_name}} in {{k8s_pod_name}}",
              "metricName": "k8s_container_cpu_request",
              "name": "A",
              "reduceTo": 1,
              "tagFilters": {
                "items": [
                  {
                    "id": "4f0a2933",
                    "key": "k8s_namespace_name",
                    "op": "IN",
                    "value": ["{{.namespace}}"]
                  }
                ],
                "op": "AND"
              }
            }
          ]
        },
        "promQL": [],
        "queryType": 1
      },
      "queryData": {
        "data": { "queryData": [] },
        "error": false,
        "errorMessage": "",
        "loading": false
      },
      "queryType": 3,
      "timePreferance": "GLOBAL_TIME",
      "title": "CPU Requests",
      "yAxisUnit": "none"
    },
    {
      "description": "",
      "id": "f1734725-3312-44d6-a449-7ed6879d6bac",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "TIME_SERIES",
      "query": {
        "clickHouse": [
          { "disabled": false, "legend": "", "name": "A", "rawQuery": "" }
        ],
        "metricsBuilder": {
          "formulas": [],
          "queryBuilder": [
            {
              "aggregateOperator": 1,
              "disabled": false,
              "groupBy": [],
              "legend": "{{k8s_container_name}} in {{k8s_pod_name}}",
              "metricName": "k8s_container_cpu_limit",
              "name": "A",
              "reduceTo": 1,
              "tagFilters": {
                "items": [
                  {
                    "id": "de135e33",
                    "key": "k8s_namespace_name",
                    "op": "IN",
                    "value": ["{{.namespace}}"]
                  }
                ],
                "op": "AND"
              }
            }
          ]
        },
        "promQL": [],
        "queryType": 1
      },
      "queryData": {
        "data": { "queryData": [] },
        "error": false,
        "errorMessage": "",
        "loading": false
      },
      "queryType": 3,
      "timePreferance": "GLOBAL_TIME",
      "title": "CPU Limits",
      "yAxisUnit": "none"
    },
    {
      "description": "",
      "id": "4ac567c1-35fb-44e7-99cf-b558b2026634",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "TIME_SERIES",
      "query": {
        "clickHouse": [
          { "disabled": false, "legend": "", "name": "A", "rawQuery": "" }
        ],
        "metricsBuilder": {
          "formulas": [],
          "queryBuilder": [
            {
              "aggregateOperator": 1,
              "disabled": false,
              "groupBy": [],
              "legend": "{{k8s_container_name}} in {{k8s_pod_name}}",
              "metricName": "k8s_container_memory_limit",
              "name": "A",
              "reduceTo": 1,
              "tagFilters": {
                "items": [
                  {
                    "id": "1b274a4c",
                    "key": "k8s_namespace_name",
                    "op": "IN",
                    "value": ["{{.namespace}}"]
                  }
                ],
                "op": "AND"
              }
            }
          ]
        },
        "promQL": [],
        "queryType": 1
      },
      "queryData": {
        "data": { "queryData": [] },
        "error": false,
        "errorMessage": "",
        "loading": false
      },
      "queryType": 3,
      "timePreferance": "GLOBAL_TIME",
      "title": "Memory Limits",
      "yAxisUnit": "bytes"
    },
    {
      "description": "",
      "id": "e05ae451-c173-44b1-959e-bf8d48e6cc13",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "TIME_SERIES",
      "query": {
        "clickHouse": [
          { "disabled": false, "legend": "", "name": "A", "rawQuery": "" }
        ],
        "metricsBuilder": {
          "formulas": [],
          "queryBuilder": [
            {
              "aggregateOperator": 1,
              "disabled": false,
              "groupBy": [],
              "legend": "{{k8s_container_name}} in {{k8s_pod_name}}",
              "metricName": "k8s_container_memory_request",
              "name": "A",
              "reduceTo": 1,
              "tagFilters": {
                "items": [
                  {
                    "id": "e51e4655",
                    "key": "k8s_namespace_name",
                    "op": "IN",
                    "value": ["{{.namespace}}"]
                  }
                ],
                "op": "AND"
              }
            }
          ]
        },
        "promQL": [],
        "queryType": 1
      },
      "queryData": {
        "data": { "queryData": [] },
        "error": false,
        "errorMessage": "",
        "loading": false
      },
      "queryType": 3,
      "timePreferance": "GLOBAL_TIME",
      "title": "Memory Requests",
      "yAxisUnit": "bytes"
    },
    {
      "description": "",
      "id": "92b7aa61-c086-4633-931d-f010104aa067",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "TIME_SERIES",
      "query": {
        "clickHouse": [
          { "disabled": false, "legend": "", "name": "A", "rawQuery": "" }
        ],
        "metricsBuilder": {
          "formulas": [],
          "queryBuilder": [
            {
              "aggregateOperator": 1,
              "disabled": false,
              "groupBy": [],
              "legend": "{{k8s_container_name}} in {{k8s_pod_name}}",
              "metricName": "container_cpu_utilization",
              "name": "A",
              "reduceTo": 1,
              "tagFilters": {
                "items": [
                  {
                    "id": "9ff7b738",
                    "key": "k8s_namespace_name",
                    "op": "IN",
                    "value": ["{{.namespace}}"]
                  }
                ],
                "op": "AND"
              }
            }
          ]
        },
        "promQL": [],
        "queryType": 1
      },
      "queryData": {
        "data": { "queryData": [] },
        "error": false,
        "errorMessage": "",
        "loading": false
      },
      "queryType": 3,
      "timePreferance": "GLOBAL_TIME",
      "title": "CPU Utilization",
      "yAxisUnit": "percentunit"
    },
    {
      "description": "",
      "id": "9ba18e07-e1fa-4f10-93a6-69440f30cdd9",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "TIME_SERIES",
      "query": {
        "clickHouse": [
          { "disabled": false, "legend": "", "name": "A", "rawQuery": "" }
        ],
        "metricsBuilder": {
          "formulas": [],
          "queryBuilder": [
            {
              "aggregateOperator": 1,
              "disabled": false,
              "groupBy": [],
              "legend": "{{k8s_container_name}} in {{k8s_pod_name}}",
              "metricName": "container_memory_usage",
              "name": "A",
              "reduceTo": 1,
              "tagFilters": {
                "items": [
                  {
                    "id": "fb75c42e",
                    "key": "k8s_namespace_name",
                    "op": "IN",
                    "value": ["{{.namespace}}"]
                  }
                ],
                "op": "AND"
              }
            }
          ]
        },
        "promQL": [],
        "queryType": 1
      },
      "queryData": {
        "data": { "queryData": [] },
        "error": false,
        "errorMessage": "",
        "loading": false
      },
      "queryType": 3,
      "timePreferance": "GLOBAL_TIME",
      "title": "Memory Utilization",
      "yAxisUnit": "bytes"
    }
  ]
}
